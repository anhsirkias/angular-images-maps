
<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test</title>
  

  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script>
  

  
</head>
<body ng-app="submitExample">
   <script>
  
  
  var app =  angular.module('submitExample', []);
  
  var imagesource;
  
  app.directive("fileread", [function () {
    return {
        scope: {
            fileread: "="
        },
        link: function (scope, element, attributes) {
            element.bind("change", function (changeEvent) {
                var reader = new FileReader();
                reader.onload = function (loadEvent) {
                    scope.$apply(function () {
                        scope.fileread = loadEvent.target.result;
                        imagesource = loadEvent.target.result;
                    });
                }
                reader.readAsDataURL(changeEvent.target.files[0]);
                
            });
        }
    }
}]);

  app.directive('fileModel', ['$parse', function ($parse) {
          
    return {
        restrict: 'A',
        link: function(scope, element, attrs) {
            var model = $parse(attrs.fileModel);
           
            var modelSetter = model.assign;
            
            element.bind('change', function(){
                scope.$apply(function(){
                    modelSetter(scope, element[0].files[0]);
                });
            });
        }
    };
}]);

     app.controller('ExampleController', ['$scope','$http','$location','$window', function($scope,$http,$location,$window) {
       $scope.submit = function() {
//             var file = $scope.myFile;
//             var file = $scope.myFile;
//alert(file.size);
//fileUpload.uploadFileToUrl(file, uploadUrl);
           var info = 
                   {
                       name: $scope.name,
                       location:$scope.location
//                       pic: file,
           }
         if ($scope.name) {
                 $http.post('http://localhost:3000',info ).success(function(data)
             {
//                 alert(data.length); 
          $window.location.href = 'http://localhost:8383/QuizingaApp/data.html';
            });
         }
       };
     }]);
 </script>
 <form ng-submit="submit()" ng-controller="ExampleController">
   Enter text and hit enter:
  <table>
        <tr>
            <td>
                Name: 
            </td>
            <td>
                <input id-="name" type="text" ng-model="name"/>
            </td>
        </tr>
        <tr>
            <td>
                Location
            </td>
            <td>
                 <input id-="location" type="text" ng-model="location"/>
            </td>
        </tr>
        <tr>
            <td>
                pic
            </td>
            <td>
               <div>
           
                   
                   <input type="file" fileread="vm.uploadme" />
            
<!--            <input id="inputImage2" 
                type="file" 
                accept="image/*" 
                image="image2" 
                 file-model="myFile" />-->
            
            <p>Original</p>
            <img ng-show="image2" ng-src="{{image2.url}}" type="{{image2.file.type}}"/>
            <p>Resized</p>
            <img ng-show="image2" ng-src="{{image2.resized.dataURL}}"/>
                <!--<input id-="pic" type="file" ng-model="image" />-->
<!--                 <input type="file" accept="image/*" image="image"/>
                <img ng-show="image" ng-src="{{image.url}}" type="{{image.file.type}}" />-->

                 <!--<img src=""-->
            </td>
        </tr>
    </table>  
   <div style="display: none;">
       name : <span ng-bind="name"></span>
       </br>
       location: <span ng-bind="location"></span>
   </div>
   
   <input type="submit" id="submit" value="Submit" />
 </form>
</body>
</html>